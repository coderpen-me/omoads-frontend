{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
  <title>OmoAds</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-105587377-1', 'auto');
    ga('send', 'pageview');

  </script>

  

  <style type="text/css">
    html,body{
      height: 100%;
      margin: 0px;
      /*overflow-y: ;*/
      background-color: #f2f2f2;
    }
    .navbar{
      background-color: #1c1c1c;
    }
    .navigationBar{
      margin: 0px;
      border-radius: 0px;
      border-width: 0px;
      /*height: ;*/
    }
    .shadow{
      box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19);
    }
    .cart-display{
      padding-top: 15px;
    }
    .cont{
      /*height: 400px;*/
      background-color: #fff;
      padding-bottom: 10px;
    }
    .content-header{
      padding: 12px;
      padding-left: 20px;
      font-size: 17px; 
      color: #666;
      border-bottom: 1px solid #dbdbdb;
    }
    .line{
      height: 1px;
      background-color: #c1c1c1;
      margin-top: 10px;
      margin-bottom: 10px;
    }
    .cart-item .row{
      margin: 0px;
      margin-top: 20px;
      margin-bottom: 10px; 
    }
    .cart-item p{
      margin-bottom: 0px;
      color: #737373; 
    }
    .cart-item h3{
      margin-top: 10px;
    }
    .priceDetails{
      padding: 10px 20px;
    }
    .priceDetails p{
      font-size: 17px;
      font-weight: 500;
      padding-top: 15px;
      padding-bottom: 15px;
      margin-bottom: 0px; 
    }
    .priceDetails .finalPrice{
      color: #ff6c00;
      font-size: 25px;
      font-weight: 600;
      padding-top: 10px;
    }
    .edit-button{
      /*margin-top: 15px;*/
      font-size: 17px;
      padding-left: 15px;
      color: #545454;
    }
    .edit-button:hover{
      color: #337ab7;
    }
    .remove-button{
      /*margin-top: 15px;*/
      font-size: 17px;
      padding-left: 15px;
      color: #545454;
    }
    .remove-button:hover{
      color: #f70000;
    }
    @keyframes fadeout {
    0%{opacity:0;top:50%}
    20%{opacity:1;}
    80%{opacity:1;top:50%;}
    100%{opacity:0;
      top:-50%;
    }

  }
  #message {
    position: absolute;
    z-index: 9999;
    top: -50%;
    left: 25%;
    right: 25%;
    background: #fde073;
    text-align: center;
    animation-name: fadeout;
    animation-duration: 2s;
    overflow: hidden;
    opacity:0;
    box-shadow: 0 0 5px black;

  }
  </style>
</head>
<body>

{% if messages %}
    <div id="message">
{% for message in messages %}

   <h3> {{ message }}</h3>
{% endfor %}
    </div>
{% endif %}

  <section>
    {% include 'navbar1.html' %}
    <div class="container">
      <div class="row cart-display">
        <div class="col-sm-8">
          <div class="cont shadow">
            <div class="content-header">MY CART</div>
            {% for cartitem in cart.cartitem_set.all %}
            <div class="cart-item" id = "{{cartitem.id}}">
              <div class="row">
                <div class="col-sm-3">
                  <img src="resources/images/banner3.jpg" class="img-thumbnail" alt="Cinque Terre" width="250" height="180">
                </div>
                <div class="col-sm-6">
                  <h4>{{cartitem.banner.landmark}}</h4>
                  <p>Start Date: {{cartitem.startDate}}</p>
                  <p>End Date: {{cartitem.endDate}}</p>
                </div>
                <div class="col-sm-3">
                  <h3 class="pull-right">&#8377 {{cartitem.price|floatformat:2}}</h3>
                  <div class="pull-right">
                    <a class = "editCartItem" href = "#" data-toggle="tooltip" data-placement="bottom" title="Edit"><span class="glyphicon glyphicon-edit edit-button"></span></a>
                    
                    <a class = "deleteCartItem" href = "{% url 'cart_deleteItem' cartitem.id %}" data-cartitemid="{{cartitem.id}}" data-toggle="tooltip" data-placement="bottom" title="Remove"><span class="glyphicon glyphicon-remove-circle remove-button"></span></a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
            
            

          </div>
        </div>
        <div class="col-sm-4">
          <div class="cont shadow">
            <div class="content-header">PRICE DETAILS</div>
            <div class="priceDetails">
              <p>Price({{cart.cartitem_set.all.count}} Items):<span class="pull-right">&#8377 {{cart.totalPrice|floatformat:2}}</span></p>
              <p>Installation Cost:<span class="pull-right">&#8377 {{cart.installationPrice|floatformat:2}}</span></p>
              <p>GST:<span class="pull-right">&#8377 {{cart.tax|floatformat:2}}</span></p>
              <div class="line"></div>
              <p class="finalPrice">Total:<span class="pull-right">&#8377 {{cart.totalSumPrice|floatformat:2}}</span></p>
              <div class="line"></div>
              <p>Advanced(to be payed now):
              <span class="pull-right">&#8377 {{cart.paymentAdvance|floatformat:2}}</span>
              </p>
              <p>Payment1:<span class="pull-right">&#8377 {{cart.payment1|floatformat:2}}</span></p>
              <p>Payment2:<span class="pull-right">&#8377 {{cart.payment2|floatformat:2}}</span></p>
              <a href = "{% url 'check_out' %}"  class="btn btn-primary">Checkout</a>

            </div>
          </div>
        </div>
      </div>
    </div>



  </section>
</body>
</html>